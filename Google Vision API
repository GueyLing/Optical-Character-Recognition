using Google.Cloud.Vision.V1;
using System;
using System.IO;


namespace VisionApiDemo
{
    class Program
    {
        static void Main(string[] args)
        {

            string credential_path = @"C:\Users\Guey Ling\Downloads\third-light-335813-337d0faec652.json";
            System.Environment.SetEnvironmentVariable("GOOGLE_APPLICATION_CREDENTIALS", credential_path);

            var client = ImageAnnotatorClient.Create();
            var image = Image.FromFile(@"C:\Users\Guey Ling\Downloads\aa.jpg");

            var response = client.DetectText(image);

            StreamWriter writer = new StreamWriter("data.txt");
            foreach (var annotation in response)
            {
                if (annotation.Description != null)
                {

                    writer.WriteLine(annotation.Description);

                }
            }
            writer.Close();
        }
    }
}

